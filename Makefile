#******************************************************************************#
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: ochayche <marvin@42.fr>                    +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2017/01/18 18:15:02 by ochayche          #+#    #+#              #
#    Updated: 2017/03/05 22:47:28 by ochayche         ###   ########.fr        #
#                                                                              #
#******************************************************************************#

GCC = gcc

F = -Wall -Wextra -Werror -I ./libft/inc -I ./ft_printf/

NAME = push_swap

NAME_2 = checker

BONUS_TEST = -v

INCL =		libft/libft.a \
			ft_printf/libftprintf.a

TEST100 = 86440 74961 77214 -52241 11051 64245 -22815 36221 51760 -92910 -14877 99206 59603 -17859 -68535 6953 81494 -90280 -90699 -10243 -46279 -43387 57802 -18275 80308 10078 -71008 -96905 90666 29894 95259 -64211 2984 14111 39689 64819 -88722 18950 93214 -79140 10976 54999 71758 16158 -63960 -2506 -26360 -97123 -36405 -8822 33503 19622 -70962 63744 -338 -90416 39311 51480 89907 30765 92158 48083 -90756 -66583 76848 -60646 -92026 60334 -57261 39478 -17753 58852 97006 35420 33811 -24211 -58290 39292 37859 -76797 -2238 -26051 11324 -72505 -24885 16868 69855 99107 46739 47027 61823 -86044 -70745 41181 -61800 -50547 95905 -85314 -17061 -94080

TEST500 = 16632 99316 66445 23294 51774 -484 -4687 90669 83164 -95099 -81193 -45514 12367 -28416 -39963 -68980 9774 12266 66611 -45980 -6559 80963 8960 63775 -869 75519 -77275 49161 -45114 -10756 71348 2423 -37645 44739 -1924 90075 16478 33923 -10112 -771 37652 -58179 15774 96509 -40227 -75706 26173 72126 -96784 -67777 -1758 78814 -40760 71758 92293 43896 -52394 28783 -7829 36094 -78995 -80522 -32181 -40287 -33721 27650 -86693 9974 -76251 -46605 -97174 60585 -91033 -85633 61556 -81078 7947 -30098 -50421 -40226 -9384 -68424 6698 -2121 559 90288 21283 77572 61462 -54106 -74149 27440 8274 -24423 75798 -46531 37800 87292 -52531 81017 -94401 -77657 -77155 -73172 -57099 47152 24743 -49789 -191 97132 91453 74643 -29138 61135 6857 46735 99066 -29028 -59954 42198 -24079 10520 72141 76176 95765 21186 -5341 -76495 76552 -68640 81389 -78421 54955 -73784 -20665 -27147 -26616 -93969 26989 84123 55256 13297 23182 -86167 74246 57060 -57291 -76653 43549 -73908 27344 -54438 -36428 -23925 -80191 4760 24761 -43499 -15163 64032 54661 95072 -37234 40637 -57221 25681 -60642 -90317 -86864 -1202 5327 -55762 99693 35042 28827 -11573 30537 -81967 -61862 38962 -86626 -61430 38560 -48930 -41694 -71260 -83534 -82811 -98582 6365 15296 27310 95128 68371 98226 -60088 -64339 57018 66903 65068 84974 15037 -88328 -28474 44506 53114 -94249 -28405 61449 19756 -42719 6079 -45655 94688 74883 -8939 -67126 54634 61495 73102 95566 -44526 -33055 -56795 58671 -59354 2359 18589 45588 -58709 3204 -24126 -96685 70724 5880 54839 -85313 -93020 -84749 -47765 98262 -36024 298 10914 -42612 48613 -98693 52834 13883 35016 3924 -91518 -91761 20150 34719 -36880 -7269 -34005 -47668 -24876 -58863 -54650 -98167 39522 -22376 44402 8020 -40634 -13157 30413 -42161 -77992 17514 -84795 -93082 70095 46388 -91422 -71473 442 67566 50494 -17142 -49954 -48910 -14464 -87564 -86649 -70337 49018 -13397 -62076 -13720 -65753 -61850 -83350 14590 -61441 -97539 -36521 66789 -51594 64076 84746 -66826 21752 97967 84156 -61789 20367 -81089 59990 7809 26138 64256 -57348 55276 59954 -49853 25376 -55213 -48808 27897 71936 -57016 49421 51906 67172 43694 -20046 -48280 30342 -84510 -80397 33647 -59882 -5383 -41196 13124 29478 -87447 -79134 36937 -33744 51920 -57413 30312 -36482 98239 37481 39349 17303 -91814 39197 -45060 36515 -92158 82863 38135 35432 69488 -61951 42120 88670 82915 49819 66185 7382 93797 -598 39284 -7738 96079 4570 63779 -92345 89964 41008 -24821 27642 37866 46952 84480 -84557 39838 37067 51335 -82376 -93282 15762 46808 615 21726 -28615 94274 23541 -76659 32236 24261 24364 -97141 75882 -96887 -5618 75579 1900 -5948 63307 -95567 -8212 -30931 33302 -94112 88622 -80862 34069 37948 -57849 -73729 -33365 62010 -16648 -55589 65107 92933 -5919 -98927 -36408 37318 -10542 27473 -19682 -59568 -31969 86174 -59907 3456 -98116 89595 -58988 -9490 61744 22531 -57623 22660 53475 92930 -26867 -50937 25402 -76978 76277 -67262 35345 77070 63208 33829 -3423 23366 -42008 92721 -43021 -11090 -98622 52102 85415 57520 96886 281 -11877 6571 90955 96449 50802 19290 -53857 14563 77335 -48926 -46404 -468 -25358 -99151 99876 -97387 99313 96862 -25816 -55453 -38951 71652 -51191 -73 -4305 -72810 -1159 -2330 -17445 56760 -48018

TEST1000 = 8167 -74711 -54818 -55429 79697 -73897 -69135 -11316 97552 -4707 63689 -84736 -12921 92904 1393 72253 -81455 18910 74330 -19946 46527 -21783 97643 10302 36391 -29135 -75306 -26617 43592 61034 -20052 86858 -21313 77818 -16680 -38929 -80439 -41278 -73127 44883 96856 -40922 -38835 -98314 96453 45293 52758 -32415 2679 -55301 -46906 60749 -96474 -90160 8117 -38964 -31886 92857 -19216 49490 74723 -12254 60358 -57563 85550 63961 37497 -68775 23528 29666 1549 37250 78450 -34809 -44984 75216 -12354 -31528 -59492 -13487 26465 -4457 -37202 -41802 44188 56269 20171 76936 54580 -35364 99562 -264 4623 55063 7224 20586 86568 11825 49520 62308 70499 8689 -13026 -93245 -3939 -94815 23837 -57601 19383 59818 -68526 98809 2008 7067 -75545 34945 58730 63981 41315 -13356 15860 23438 66781 74666 -3331 415 -73708 16714 -34731 -87997 -49634 -58253 -36234 20860 3072 -50681 -14631 -79120 10728 -82157 -43120 -87910 16707 -12230 3543 99363 -10802 33783 60276 51522 67475 -8605 -60912 -62601 -68159 71064 -39635 -487 462 -99642 19702 -29410 33978 43654 48393 -1592 56849 73504 -59167 -86917 69975 -95807 62009 -96803 52838 -87591 -30381 41434 8053 -58654 -93512 23038 70742 -49509 21529 52000 -99197 -95159 88583 72635 -54015 -60486 7404 48993 33971 35313 -8240 -64596 -57371 17377 -19851 -97676 30015 84599 -4544 85170 33594 4254 42975 -85661 68729 76081 -62093 50754 -57197 68711 -49418 76300 82514 62243 -41881 1455 46835 92045 15447 -54825 19229 -34040 -97613 34901 -97719 -50776 37977 -54289 23993 38010 62955 14278 12253 12934 49556 623 79606 -55658 -50642 -51980 -86692 -84270 -30339 51968 -57139 15333 -73261 10109 -33563 43873 80493 59196 -67616 50773 73382 16487 -75777 12618 -66937 98285 -83929 -29556 -92315 -91386 83677 43707 85967 -85330 -69067 -67871 70624 -98517 67206 40866 58202 29486 95540 87221 75193 54430 -30074 79984 -15268 -26182 18321 -87254 50409 95714 -59736 27182 -81735 -27123 21710 45963 2220 81419 -97604 23149 -94535 -66310 73236 40706 -2845 16621 26147 41623 55487 -95133 4324 45269 85972 -27108 -23745 -71755 95917 -44071 53001 72339 -35037 -71676 45141 87922 -52734 -27204 29943 -74403 80605 55853 92768 17551 -85532 84322 77101 -93907 -74001 5643 -82441 78378 -93546 -97263 -96898 -65869 36242 94519 -36857 -31242 -84852 97374 98990 62493 32502 79521 4382 4894 17894 -6400 -69749 99262 -84543 -42604 -4650 25661 -1823 -46166 30404 -3916 -68281 -83850 -46696 49473 -82913 -83108 -53114 -40201 -56547 -38499 -61339 -68529 57918 -90971 -64702 30256 -62432 58942 -35116 -37039 -38861 -323 50269 19431 -19645 -83326 9293 -91710 69740 76260 -19536 -31272 75071 -64422 -16878 -60380 -42422 1571 36430 47232 5245 -1468 -17121 -32420 -46074 94831 77675 51909 11908 -3077 -45343 67518 65464 -21241 -37981 -24657 -14976 80542 -89675 -63710 72298 95897 87451 -52478 -35768 -84280 -86865 -48397 84899 -14806 -86839 24563 1572 37439 54614 28734 -47229 89602 59152 -22792 -51495 -32552 82432 63516 97356 -13775 -30521 60754 98658 -46141 -48403 78214 26650 73041 -67532 22902 -203 -82236 84541 18642 -81758 55351 -47061 -30771 94196 -40044 -3773 80769 -1382 15918 99914 -29571 69859 3079 54584 74359 92284 -84137 1346 -77267 -23280 26707 -35830 36102 -25919 -85997 78452 -73687 49654 -90057 35744 18622 -94138 53081 -21140 11206 -34173 50135 28506 55815 -49637 -12869 -25610 -57856 61579 -12870 -56993 75649 75790 -88022 55470 -86996 -87502 -46636 -1052 70972 -85288 78576 84852 9227 -94463 -84682 -23138 89514 52843 27964 -23225 50095 91013 59857 -44990 49183 50073 91636 10985 91283 -53458 -70516 62363 -70308 12948 93774 29399 -26872 55223 -73999 -75790 -29549 98163 -92779 36170 -38996 3338 -28775 -5519 912 603 49615 4187 61756 -33936 -31724 79325 65440 49195 94354 -79713 68254 -68093 81114 -92982 -59917 -8526 87837 -48501 -15502 -20991 -82873 2607 81649 -82333 -84420 -8564 -95231 -2300 99740 29325 -9883 -86147 -65867 -95435 47206 -88885 58515 -74975 73451 -47955 -40157 -91737 19844 79649 -89147 38581 56504 59282 -69102 70922 78866 26608 -10512 34996 91952 87871 -16647 31321 40073 54871 56654 -8701 92232 -76996 -15970 19864 -4635 26428 83734 71600 85119 -30848 28392 -92538 18487 3645 -14886 -75779 -4725 95553 86588 57346 15941 -54593 -9164 77573 63847 -8370 -48463 -50397 -99679 -36874 -92879 -93916 95936 43467 36983 77590 -32146 -76727 -54374 -46103 -8872 -76672 72503 -3766 -88603 -47662 78822 -44806 -45392 14339 -13063 72883 47391 80859 -940 61541 -3723 27118 -55599 35951 40672 -46410 84832 -89815 -80140 95801 -89585 -85945 -26084 -82900 40211 38411 77849 -93966 -6872 87832 50827 -67807 16028 -8486 13760 66440 -88095 -86259 -53248 17032 -6706 5477 34598 36522 -85534 53488 -70162 25130 45437 -92395 -31968 39060 -83880 -14470 -94381 40519 90237 -36995 -90432 -42139 34806 -47051 -31612 -77270 -17869 2136 -51909 64850 82989 -8221 36218 93875 -4619 48321 8867 -59177 42707 -77018 -43193 69792 42554 38668 57254 -74609 -62360 -3927 36667 44831 -14258 12512 44323 55437 93551 24865 35145 64717 68809 76396 -37761 23685 56075 44223 92079 -45963 85037 -12805 41247 39810 -60811 -25902 -77092 19456 67779 -51059 -50012 86865 70984 -75951 -98338 35459 65117 93463 93028 99847 -611 84904 38472 -33014 69516 -19565 31344 5647 63195 -30185 -26097 -74759 -49292 -33844 19557 -15952 36840 42970 -30419 -42196 86880 -78104 -49800 -60134 -55286 45142 77744 -44324 -6851 24888 22398 -73058 -32315 -41351 5818 -86308 6205 -41251 -72616 19722 -80649 -90993 -22935 39009 1759 46630 -88425 -19412 7689 -50044 82967 -98316 51887 -28655 -50788 58736 74811 -60616 8520 -38011 -43423 79950 91 -45272 29694 -52679 57385 60519 -59271 -80542 -56056 -43726 -16053 7128 76413 -81973 -56635 40431 -29126 86299 -30162 14969 33632 70067 -84512 -89718 -45642 73172 58682 -52868 44408 -97916 16044 -46440 -26846 46732 -92783 41922 25228 62113 22105 19424 8076 -37209 -35104 73392 31248 17046 -31553 44455 60531 -15829 350 25720 20942 -78356 82986 -90748 -71137 61855 18895 -2940 13315 52573 -51191 85659 -77812 -75955 -81711 -92928 -41524 -41481 -46174 20165 22857 40173 10410 73343 42366 75194 -50334 94652 51934 -25378 -890 16712 80817 -45472 -16697 28503 -45828 54718 -50219 82446 35544 -81173 2023 -84501 58298 54676 46145 35653 34709 8301 -89184 41402 91507 27552 32339 6952 -76703 67030 39353 -59240 -12248 -55730 -67840 -41565 -98902 23541 -19045 -36574 -79194 -75266 -10841 20486 -42294 44243 -32967 -75444 -77181 -58272 27823 88683 16019 -15622 -88989 -5769 4760

OBJECT =  	list_push_back.o \
			ps_error.o \
			print_stacks.o \
			make_ss.o \
			make_rr.o \
			make_rrr.o \
			pre_validate.o \
			init_var.o \
			read_flags.o \
			operation_push_back.o \
			free_memory.o

OBJECT_1 = 	$(OBJECT) \
			push_swap.o \
			sorting_logic.o \
			frst_sort_3_a.o \
			next_sort_3_a.o \
			next_sort_3_b.o \
			last_sort_3_b.o \
			optimization.o \
			print_operation.o \
			opt_is_have_anti_oper.o \
			opt_is_double_node.o \
			add_function.o


OBJECT_2 = 	$(OBJECT) \
			checker.o \
			reading_commands.o 

.PHONY: all clean fclean re bug debug

all: $(NAME) $(NAME_2)
	@make -C libft/
	@make -C ft_printf/

$(NAME): $(OBJECT_1)
		@make -C libft/
		@make -C ft_printf/
		$(GCC) $(F) -o $(NAME) $(OBJECT_1) $(INCL)

$(NAME_2): $(OBJECT_2)
		@make -C libft/
		@make -C ft_printf/
		$(GCC) $(F) -o $(NAME_2) $(OBJECT_2) $(INCL)

clean:
	@make clean -C libft/
	@make clean -C ft_printf/
	rm -rf $(OBJECT_1) $(OBJECT_2) $(OBJECT)

fclean: clean
	@make fclean -C libft/
	@make fclean -C ft_printf/
	@rm -rf $(NAME) $(NAME_2) a.out

re: fclean all

r100: all
	./$(NAME) $(TEST100) #| ./$(NAME_2) $(TEST100)

r100wcl: all
	./$(NAME) $(TEST100) | wc -l

r500: all
	./$(NAME) $(TEST500) | ./$(NAME_2) $(TEST500)

r500wcl: all
	./$(NAME) $(TEST500) | wc -l

r1000: all
	./$(NAME) $(TEST1000) | ./$(NAME_2) $(TEST1000)

r1000wcl: all
	./$(NAME) $(TEST1000) | wc -l


# bug:
# 	gcc -g $(F) -o $(NAME) push_swap.c list_push_back.c ps_error.c print_stacks.c make_ss.c make_rr.c make_rrr.c pre_validate.c \
# 	init_var.c read_flags.c operation_push_back.c frst_sort_3_a.c next_sort_3_a.c \
# 	next_sort_3_b.c last_sort_3_b.c add_function.c optimization.c sorting_logic.c  print_operation.c $(INCL)

bug:
	gcc -g $(F) -o $(NAME_2) list_push_back.c add_function.c ps_error.c print_stacks.c make_ss.c make_rr.c make_rrr.c pre_validate.c init_var.c read_flags.c operation_push_back.c free_memory.c checker.c reading_commands.c $(INCL)

debug: bug
	lldb $(NAME_2) -- 2 3 4

%.o: ./%.c
	$(GCC) $(F) -o $@ -c $< -I ./
